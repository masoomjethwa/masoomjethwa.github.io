<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Cosmology Explorer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Cosmic Neutrals -->
    <!-- Application Structure Plan: The SPA is designed as a multi-section, single-page dashboard to facilitate non-linear exploration. The structure is thematic, not chronological, to improve user understanding.
    1. Header/Nav: A sticky navigation bar for quick access to all major sections, enhancing usability.
    2. Overview Section: The landing area, providing immediate high-level context with an interactive chart of the universe's composition. This immediately grounds the user with the most fundamental data.
    3. Standard Model Section: Uses a tabbed interface to organize the complex components of the ΛCDM model (Big Bang, Inflation, Dark Matter, Dark Energy). This prevents information overload and allows users to focus on one concept at a time.
    4. Theory Showdown Section: A direct, interactive comparison between the Big Bang and Steady State theories. This is more engaging than a static table and clearly highlights why the Big Bang model prevails.
    5. Frontiers Section: Uses a grid of clickable cards that reveal modals. This design keeps the main interface clean while providing depth on speculative topics for interested users.
    This structure was chosen to guide the user from a broad overview to deep, focused topics and comparisons, empowering them to learn at their own pace and follow their own curiosity. -->
    <!-- Visualization & Content Choices:
    1.  Universe Composition: (Goal: Inform) -> Interactive Donut Chart (Chart.js/Canvas). (Interaction: Hover for details). (Justification: Excellent for showing parts of a whole; interactive tooltips provide precise data on demand).
    2.  Big Bang Timeline: (Goal: Show Change) -> Horizontal Timeline (HTML/Tailwind). (Interaction: Visual flow). (Justification: A clear, simple visual to show the sequence of events without the complexity of a chart).
    3.  Galaxy Rotation Curve: (Goal: Compare) -> Line Chart (Chart.js/Canvas). (Interaction: Hover for data points). (Justification: The most direct and standard way to visualize the discrepancy that implies dark matter).
    4.  Theory Comparison: (Goal: Compare/Organize) -> Interactive two-column layout (HTML/JS). (Interaction: Click to highlight/focus on a specific feature). (Justification: More dynamic than a static table, focuses user attention on one comparison point at a time).
    5.  Alternative Theories: (Goal: Organize/Inform) -> Card grid with modals (HTML/JS). (Interaction: Click to reveal detailed info). (Justification: Presents many options without cluttering the UI; modals allow for deep dives without navigating away). -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 450px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
            border-bottom: 2px solid transparent;
        }
        .nav-link:hover, .nav-link.active {
            color: #3b82f6;
            border-bottom-color: #3b82f6;
        }
        .tab-button.active {
            background-color: #3b82f6;
            color: white;
        }
        .modal {
            transition: opacity 0.3s ease-in-out;
        }
        .modal-content {
            transition: transform 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <header class="bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <h1 class="text-xl md:text-2xl font-bold text-gray-700">Cosmology Explorer</h1>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#overview" class="nav-link font-semibold text-gray-600 px-2 py-1">Overview</a>
                    <a href="#standard-model" class="nav-link font-semibold text-gray-600 px-2 py-1">Standard Model</a>
                    <a href="#showdown" class="nav-link font-semibold text-gray-600 px-2 py-1">Theory Showdown</a>
                    <a href="#frontiers" class="nav-link font-semibold text-gray-600 px-2 py-1">Frontiers</a>
                </div>
                <button id="mobile-menu-button" class="md:hidden p-2 rounded-md text-gray-600 hover:bg-gray-100">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
            <div id="mobile-menu" class="hidden md:hidden pb-4">
                <a href="#overview" class="block nav-link font-semibold text-gray-600 py-2">Overview</a>
                <a href="#standard-model" class="block nav-link font-semibold text-gray-600 py-2">Standard Model</a>
                <a href="#showdown" class="block nav-link font-semibold text-gray-600 py-2">Theory Showdown</a>
                <a href="#frontiers" class="block nav-link font-semibold text-gray-600 py-2">Frontiers</a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <section id="overview" class="py-12 text-center scroll-mt-16">
            <h2 class="text-3xl md:text-4xl font-bold mb-4 text-blue-600">Unveiling the Cosmos</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-8">This application provides an interactive journey through the leading scientific theories about our universe's origin, evolution, and fundamental composition. Explore the evidence for the standard model, compare competing ideas, and look into the speculative frontiers of cosmology.</p>
            <div class="bg-white p-6 rounded-xl shadow-lg max-w-4xl mx-auto">
                <h3 class="text-2xl font-bold mb-4">The Composition of Our Universe</h3>
                <p class="text-gray-600 mb-6 max-w-2xl mx-auto">Modern observations suggest the universe is made of components that are still not fully understood. The vast majority is "dark energy" and "dark matter," with the familiar matter we see making up less than 5%. Hover over the chart to see the breakdown.</p>
                <div class="chart-container">
                    <canvas id="universeCompositionChart"></canvas>
                </div>
            </div>
        </section>

        <section id="standard-model" class="py-12 scroll-mt-16">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-blue-600">The Standard Model: ΛCDM</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-12 text-center">The Lambda-Cold Dark Matter (ΛCDM) model is the standard model of Big Bang cosmology. It provides a remarkably successful framework for explaining a wide range of cosmic observations, from the afterglow of the Big Bang to the large-scale structure of galaxies. Explore its key components below.</p>
            
            <div class="bg-white rounded-xl shadow-lg p-4 sm:p-8">
                <div class="mb-6 border-b border-gray-200">
                    <div class="flex flex-wrap -mb-px" id="model-tabs">
                        <button class="tab-button flex-1 md:flex-none text-gray-500 hover:text-blue-600 hover:bg-blue-50 py-3 px-4 font-semibold text-center border-b-2 border-transparent transition rounded-t-lg" data-tab="big-bang">Big Bang & Expansion</button>
                        <button class="tab-button flex-1 md:flex-none text-gray-500 hover:text-blue-600 hover:bg-blue-50 py-3 px-4 font-semibold text-center border-b-2 border-transparent transition rounded-t-lg" data-tab="inflation">Cosmic Inflation</button>
                        <button class="tab-button flex-1 md:flex-none text-gray-500 hover:text-blue-600 hover:bg-blue-50 py-3 px-4 font-semibold text-center border-b-2 border-transparent transition rounded-t-lg" data-tab="dark-matter">Dark Matter</button>
                        <button class="tab-button flex-1 md:flex-none text-gray-500 hover:text-blue-600 hover:bg-blue-50 py-3 px-4 font-semibold text-center border-b-2 border-transparent transition rounded-t-lg" data-tab="dark-energy">Dark Energy</button>
                    </div>
                </div>

                <div id="tab-content">
                    <div class="tab-pane" id="content-big-bang">
                         <h3 class="text-2xl font-bold mb-4">The Expanding Universe</h3>
                         <p class="text-gray-600 mb-6">The Big Bang theory posits the universe began from a hot, dense singularity ~13.8 billion years ago and has been expanding and cooling ever since. This expansion is not an explosion in space, but the expansion of space itself. The primary evidence includes the redshift of distant galaxies (Hubble's Law), the Cosmic Microwave Background (CMB), and the abundances of light elements (BBN).</p>
                         <div class="mt-8">
                            <h4 class="text-xl font-semibold mb-4 text-center">A Simplified Cosmic Timeline</h4>
                            <div class="relative w-full py-4">
                                <div class="absolute left-0 top-1/2 w-full h-0.5 bg-blue-200"></div>
                                <div class="relative flex justify-between items-start w-full">
                                    <div class="flex-1 text-center">
                                        <div class="relative">
                                            <div class="mx-auto w-4 h-4 bg-blue-500 rounded-full border-2 border-white shadow"></div>
                                            <p class="mt-2 text-sm font-semibold">The Big Bang</p>
                                            <p class="text-xs text-gray-500">t=0</p>
                                        </div>
                                    </div>
                                    <div class="flex-1 text-center">
                                         <div class="relative">
                                            <div class="mx-auto w-4 h-4 bg-blue-500 rounded-full border-2 border-white shadow"></div>
                                            <p class="mt-2 text-sm font-semibold">First Atoms Form</p>
                                            <p class="text-xs text-gray-500">380,000 yrs</p>
                                        </div>
                                    </div>
                                    <div class="flex-1 text-center">
                                        <div class="relative">
                                            <div class="mx-auto w-4 h-4 bg-blue-500 rounded-full border-2 border-white shadow"></div>
                                            <p class="mt-2 text-sm font-semibold">First Stars & Galaxies</p>
                                            <p class="text-xs text-gray-500">~400M yrs</p>
                                        </div>
                                    </div>
                                    <div class="flex-1 text-center">
                                        <div class="relative">
                                            <div class="mx-auto w-4 h-4 bg-blue-500 rounded-full border-2 border-white shadow"></div>
                                            <p class="mt-2 text-sm font-semibold">Present Day</p>
                                            <p class="text-xs text-gray-500">13.8B yrs</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                         </div>
                    </div>
                    <div class="tab-pane hidden" id="content-inflation">
                        <h3 class="text-2xl font-bold mb-4">Cosmic Inflation: A Moment of Rapid Growth</h3>
                        <p class="text-gray-600 mb-6">Inflation proposes an extremely rapid, exponential expansion of the universe just moments after the Big Bang. This theory elegantly solves two major cosmological puzzles:</p>
                        <div class="grid md:grid-cols-2 gap-6 mt-6">
                            <div class="bg-gray-50 p-6 rounded-lg">
                                <h4 class="font-bold text-lg mb-2">The Horizon Problem</h4>
                                <p class="text-gray-600">Why is the temperature of the CMB so uniform across the entire sky, even in regions that shouldn't have had time to exchange heat? Inflation solves this by positing these regions were in contact *before* being rapidly pushed apart.</p>
                            </div>
                            <div class="bg-gray-50 p-6 rounded-lg">
                                <h4 class="font-bold text-lg mb-2">The Flatness Problem</h4>
                                <p class="text-gray-600">Why is the universe's geometry so close to flat? Any initial curvature would have been amplified over time. Inflation acts like a cosmic steamroller, stretching the universe so immensely that it appears flat, just as a small patch on a giant balloon looks flat.</p>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane hidden" id="content-dark-matter">
                        <h3 class="text-2xl font-bold mb-4">Dark Matter: The Invisible Scaffolding</h3>
                        <p class="text-gray-600 mb-6">Dark matter is a mysterious substance that doesn't emit or interact with light, but its gravitational effects are essential for explaining how galaxies and clusters formed. One of the key pieces of evidence comes from galaxy rotation curves. Stars at the edges of galaxies move much faster than they should if only visible matter were present, implying a massive, invisible "halo" of dark matter providing extra gravity.</p>
                        <div class="chart-container h-96">
                            <canvas id="rotationCurveChart"></canvas>
                        </div>
                    </div>
                    <div class="tab-pane hidden" id="content-dark-energy">
                        <h3 class="text-2xl font-bold mb-4">Dark Energy: The Accelerating Expansion</h3>
                        <p class="text-gray-600 mb-6">In the late 1990s, astronomers discovered the universe's expansion is not slowing down, but accelerating. This surprising finding is attributed to dark energy, a mysterious repulsive force that makes up the majority of the universe's energy density. The primary evidence came from observing distant Type Ia supernovae, which were fainter—and thus farther away—than expected, indicating that space has expanded more than predicted in recent cosmic history.</p>
                         <div class="mt-8 flex justify-center items-center bg-gray-900 p-8 rounded-lg overflow-hidden">
                            <div class="text-center text-white">
                                <h4 class="text-xl font-semibold mb-4">Visualizing Expansion</h4>
                                <div class="relative w-64 h-32">
                                    <span class="dot absolute bg-blue-300 rounded-full" style="width:10px; height:10px; top: 45%; left:45%;"></span>
                                    <span class="dot absolute bg-yellow-300 rounded-full animate-pulse" style="width:8px; height:8px; top: 20%; left:20%;"></span>
                                    <span class="dot absolute bg-red-300 rounded-full" style="width:6px; height:6px; top: 70%; left:80%;"></span>
                                    <span class="dot absolute bg-green-300 rounded-full" style="width:7px; height:7px; top: 80%; left:10%;"></span>
                                </div>
                                <p class="mt-4 text-gray-300">Galaxies are moving away from each other at an increasing rate.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="showdown" class="py-12 scroll-mt-16">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-blue-600">Theory Showdown</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-12 text-center">For decades, the Big Bang's primary competitor was the Steady State theory. This section interactively compares their core principles and shows how observational evidence ultimately led to the Big Bang becoming the standard model. Click on a feature to compare.</p>
            <div class="bg-white rounded-xl shadow-lg p-4 sm:p-8">
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="text-center">
                        <h3 class="text-2xl font-bold text-blue-600">Big Bang Theory</h3>
                    </div>
                    <div class="text-center">
                        <h3 class="text-2xl font-bold text-gray-500">Steady State Theory</h3>
                    </div>
                </div>
                <div id="comparison-container" class="mt-6 space-y-3">
                </div>
            </div>
        </section>

        <section id="frontiers" class="py-12 scroll-mt-16">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-blue-600">Frontiers & Alternative Theories</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-12 text-center">While the ΛCDM model is highly successful, it's not complete. Scientists are exploring many speculative and alternative theories to address remaining puzzles, like the nature of the singularity or dark energy. Click on a card to learn more about these fascinating ideas.</p>
            <div id="frontiers-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            </div>
        </section>
    </main>
    
    <div id="modal-container" class="modal fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="modal-content bg-white rounded-xl shadow-2xl max-w-2xl w-full p-8 transform scale-95">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modal-title" class="text-2xl font-bold"></h3>
                <button id="modal-close-button" class="text-gray-500 hover:text-gray-800">&times;</button>
            </div>
            <div id="modal-body" class="text-gray-600 space-y-4">
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const universeData = {
                labels: ['Dark Energy', 'Dark Matter', 'Luminous Matter'],
                data: [68.3, 26.8, 4.9],
                bgColor: ['#1e3a8a', '#475569', '#f59e0b']
            };

            const rotationCurveData = {
                labels: ['0', '2', '4', '6', '8', '10', '12', '14', '16'],
                expected: [0, 80, 110, 120, 125, 120, 110, 100, 90],
                observed: [0, 80, 150, 200, 220, 225, 228, 230, 231]
            };
            
            const comparisonData = [
                {
                    feature: 'Origin of Universe',
                    bigBang: 'Began as a hot, dense singularity ~13.8 billion years ago.',
                    steadyState: 'No beginning or end; the universe has always existed.'
                },
                {
                    feature: 'Universe\'s Density',
                    bigBang: 'Decreasing over time as space expands.',
                    steadyState: 'Remains constant due to continuous creation of new matter.'
                },
                {
                    feature: 'Cosmic Microwave Background (CMB)',
                    bigBang: 'Predicted and explained as the afterglow of the hot, early universe. A key success.',
                    steadyState: 'Could not be explained. Its discovery was the theory\'s "death knell".'
                },
                {
                    feature: 'Element Abundances',
                    bigBang: 'Successfully predicts the observed ~75% Hydrogen, ~25% Helium ratio.',
                    steadyState: 'Could not explain the high abundance of Helium in the cosmos.'
                },
                {
                    feature: 'Galaxy Distribution',
                    bigBang: 'Predicts an evolving universe where distant galaxies look different. This is observed.',
                    steadyState: 'Predicted an unchanging universe. Contradicted by observations of more quasars in the past.'
                }
            ];
            
            const frontiersData = [
                 {
                    title: 'Ekpyrotic Universe',
                    tagline: 'A universe born from the collision of "branes" in higher dimensions.',
                    content: `
                        <p><strong>Core Principle:</strong> Instead of a singularity, the Big Bang was caused by the cyclical collision of two parallel "membranes" or branes in a higher-dimensional space. This process could repeat indefinitely.</p>
                        <p><strong>Challenges:</strong> Highly speculative and relies on unproven concepts from string theory like extra dimensions and branes. Lacks direct observational evidence.</p>`
                },
                {
                    title: 'Holographic Universe',
                    tagline: 'Our 3D reality could be a projection of information encoded on a 2D surface.',
                    content: `
                        <p><strong>Core Principle:</strong> Based on the holographic principle, this theory suggests that all the information in a volume of space can be represented by a theory on its boundary. It attempts to unify general relativity and quantum mechanics.</p>
                        <p><strong>Challenges:</strong> Extraordinarily difficult to test. The underlying physics of quantum gravity is not yet understood, making concrete predictions challenging.</p>`
                },
                {
                    title: 'Multiverse Theory',
                    tagline: 'Our universe is just one of many co-existing universes.',
                    content: `
                        <p><strong>Core Principle:</strong> Arising from theories like eternal inflation or string theory, this idea posits that countless other universes exist, potentially with different physical laws. It offers an explanation for our universe's "fine-tuning" for life (the anthropic principle).</p>
                        <p><strong>Challenges:</strong> By definition, other universes are causally disconnected from ours, making the theory potentially untestable and unfalsifiable. This has led to intense debate about whether it qualifies as a scientific theory.</p>`
                },
                {
                    title: 'Cyclic Universe (CCC)',
                    tagline: 'The universe undergoes endless cycles of birth and death.',
                    content: `
                        <p><strong>Core Principle:</strong> Roger Penrose's Conformal Cyclic Cosmology (CCC) proposes that the end of one universe (an "aeon") becomes the Big Bang of the next. The universe expands until it's cold and empty, at which point scale becomes meaningless, allowing a smooth transition to a new, hot, dense state.</p>
                        <p><strong>Challenges:</strong> Claims of finding evidence (e.g., "Hawking points") in the CMB are highly controversial and not widely accepted. It contradicts the standard inflationary model.</p>`
                },
                {
                    title: 'Plasma Cosmology',
                    tagline: 'Electromagnetic forces, not just gravity, shape the cosmos.',
                    content: `
                        <p><strong>Core Principle:</strong> Postulates that the dynamics of cosmic plasmas and their electric/magnetic fields are the primary drivers of structure formation. It often rejects the Big Bang, dark matter, and dark energy.</p>
                        <p><strong>Challenges:</strong> Not accepted by mainstream science. It fails to explain key observations like the CMB's blackbody spectrum or the role of dark matter in galaxy formation.</p>`
                }
            ];


            function createUniverseChart() {
                const ctx = document.getElementById('universeCompositionChart').getContext('2d');
                new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: universeData.labels,
                        datasets: [{
                            data: universeData.data,
                            backgroundColor: universeData.bgColor,
                            borderColor: '#f3f4f6',
                            borderWidth: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    font: { size: 14 },
                                    color: '#4b5563'
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `${context.label}: ${context.raw}%`;
                                    }
                                }
                            }
                        },
                        cutout: '60%'
                    }
                });
            }

            function createRotationCurveChart() {
                const ctx = document.getElementById('rotationCurveChart').getContext('2d');
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: rotationCurveData.labels,
                        datasets: [{
                            label: 'Observed Velocity (implies Dark Matter)',
                            data: rotationCurveData.observed,
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            fill: false,
                            tension: 0.4
                        }, {
                            label: 'Expected Velocity (from Visible Matter)',
                            data: rotationCurveData.expected,
                            borderColor: '#6b7280',
                            backgroundColor: 'rgba(107, 114, 128, 0.1)',
                            fill: false,
                            tension: 0.4,
                            borderDash: [5, 5]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: { display: true, text: 'Orbital Velocity (km/s)' }
                            },
                            x: {
                                title: { display: true, text: 'Distance from Galactic Center (kpc)' }
                            }
                        },
                         plugins: {
                            tooltip: { mode: 'index', intersect: false },
                            legend: { position: 'bottom'}
                        }
                    }
                });
            }
            
            function setupTabs() {
                const tabs = document.querySelectorAll('.tab-button');
                const panes = document.querySelectorAll('.tab-pane');
                
                tabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        tabs.forEach(t => t.classList.remove('active', 'text-blue-600', 'border-blue-600'));
                        tab.classList.add('active', 'text-blue-600', 'border-blue-600');
                        
                        panes.forEach(pane => {
                           pane.classList.add('hidden');
                        });
                        
                        const contentId = `content-${tab.dataset.tab}`;
                        document.getElementById(contentId).classList.remove('hidden');

                        if (tab.dataset.tab === 'dark-matter' && !Chart.getChart('rotationCurveChart')) {
                            createRotationCurveChart();
                        }
                    });
                });
                tabs[0].click();
            }
            
            function setupComparison() {
                const container = document.getElementById('comparison-container');
                comparisonData.forEach(item => {
                    const row = document.createElement('div');
                    row.className = 'comparison-row bg-gray-50 hover:bg-gray-100 p-4 rounded-lg cursor-pointer transition';
                    row.innerHTML = `
                        <h4 class="text-lg font-semibold text-center mb-3">${item.feature}</h4>
                        <div class="comparison-details grid md:grid-cols-2 gap-4 text-sm max-h-0 opacity-0 overflow-hidden transition-all duration-500">
                            <p class="text-gray-700 p-3 bg-blue-50 rounded"><span class="font-bold text-blue-700">Big Bang:</span> ${item.bigBang}</p>
                            <p class="text-gray-500 p-3 bg-gray-200 rounded"><span class="font-bold text-gray-600">Steady State:</span> ${item.steadyState}</p>
                        </div>
                    `;
                    container.appendChild(row);
                });
                
                container.addEventListener('click', (e) => {
                    const row = e.target.closest('.comparison-row');
                    if (!row) return;

                    const details = row.querySelector('.comparison-details');
                    const allDetails = container.querySelectorAll('.comparison-details');

                    const isOpening = details.style.maxHeight === '0px' || details.style.maxHeight === '';

                    allDetails.forEach(d => {
                        d.style.maxHeight = '0px';
                        d.style.opacity = '0';
                    });
                    
                    if (isOpening) {
                        details.style.maxHeight = details.scrollHeight + "px";
                        details.style.opacity = '1';
                    }
                });
            }
            
            function setupFrontiers() {
                const grid = document.getElementById('frontiers-grid');
                const modalContainer = document.getElementById('modal-container');
                const modalTitle = document.getElementById('modal-title');
                const modalBody = document.getElementById('modal-body');
                const modalCloseButton = document.getElementById('modal-close-button');

                frontiersData.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'frontier-card bg-white p-6 rounded-xl shadow-md hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer';
                    card.innerHTML = `
                        <h4 class="text-xl font-bold mb-2 text-blue-700">${item.title}</h4>
                        <p class="text-gray-600">${item.tagline}</p>
                    `;
                    card.addEventListener('click', () => {
                        modalTitle.textContent = item.title;
                        modalBody.innerHTML = item.content;
                        modalContainer.classList.remove('opacity-0', 'pointer-events-none');
                        modalContainer.querySelector('.modal-content').classList.remove('scale-95');
                    });
                    grid.appendChild(card);
                });

                const closeModal = () => {
                    modalContainer.classList.add('opacity-0', 'pointer-events-none');
                    modalContainer.querySelector('.modal-content').classList.add('scale-95');
                };

                modalCloseButton.addEventListener('click', closeModal);
                modalContainer.addEventListener('click', (e) => {
                    if (e.target === modalContainer) {
                        closeModal();
                    }
                });
            }

            function setupNavHighlighting() {
                const sections = document.querySelectorAll('section[id]');
                const navLinks = document.querySelectorAll('.nav-link');

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            navLinks.forEach(link => {
                                link.classList.toggle('active', link.getAttribute('href').substring(1) === entry.target.id);
                            });
                        }
                    });
                }, { rootMargin: '-50% 0px -50% 0px' });

                sections.forEach(section => observer.observe(section));
            }
            
            function setupMobileMenu() {
                const menuButton = document.getElementById('mobile-menu-button');
                const mobileMenu = document.getElementById('mobile-menu');
                menuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
                mobileMenu.addEventListener('click', (e) => {
                    if(e.target.tagName === 'A') {
                        mobileMenu.classList.add('hidden');
                    }
                });
            }


            createUniverseChart();
            setupTabs();
            setupComparison();
            setupFrontiers();
            setupNavHighlighting();
            setupMobileMenu();
        });
    </script>
</body>
</html>
