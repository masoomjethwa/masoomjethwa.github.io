<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Report: The Cosmic Tapestry of Stellar Evolution</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals with Soft Accents -->
    <!-- Application Structure Plan: The application is structured as a narrative, vertical-scrolling journey following a star's life. It starts with a general introduction, then moves chronologically through 'Birth', 'Adulthood (Main Sequence)', 'The Great Divergence' (based on mass), and 'Final Remnants'. A sticky navigation bar allows users to jump between these key stages. This narrative structure was chosen over the report's more academic layout to create a more engaging and intuitive user flow, making the complex science of stellar evolution more accessible to a general audience. Key interactions include toggling between star types to dynamically update charts and content, providing a clear cause-and-effect learning experience. -->
    <!-- Visualization & Content Choices: 
        - Introduction: Text blocks to set the stage. Goal: Inform. Method: HTML/CSS. Justification: Provides necessary context before visual data.
        - Birth (T Tauri): A tabbed interface to compare key characteristics. Goal: Organize/Compare. Method: JS-powered content switching. Justification: Allows for direct comparison of different facets of this stage.
        - Main Sequence: An interactive bar chart. Goal: Compare. Method: Chart.js Canvas. Interaction: Users select a spectral type via buttons, which dynamically updates the chart to show that star's properties (Mass, Luminosity, Lifespan) relative to the Sun. Justification: This makes the abstract data from the report's table tangible and easily comparable.
        - The Great Divergence: A custom HTML/CSS diagram. Goal: Organize/Change. Method: Flexbox layout with styled divs. Interaction: Hover effects on paths. Justification: Visually represents the critical branching point in a star's life based on mass, a core concept of the report. NO SVG/Mermaid used.
        - Stellar Remnants: An interactive bar chart. Goal: Compare. Method: Chart.js Canvas. Interaction: Users click on a remnant type to highlight its properties and see a detailed description. Justification: Directly compares the core mass limits and progenitor masses, clarifying the conditions for each remnant's formation.
        - Cosmic Recycling: Text and icon blocks. Goal: Inform. Method: HTML/CSS with Unicode icons. Justification: Summarizes the final, crucial concept of nucleosynthesis effectively without needing a complex chart.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Source Sans Pro', sans-serif;
            background-color: #FDFBF8; /* Warm Neutral Background */
            color: #4A4A4A;
        }
        .nav-active {
            color: #D35400; /* Subtle Accent */
            font-weight: 700;
            border-bottom-color: #D35400;
        }
        .nav-inactive {
            color: #7f8c8d;
            border-bottom-color: transparent;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 50vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .btn-spectral {
            transition: all 0.2s ease-in-out;
        }
        .btn-spectral-active {
            background-color: #D35400 !important;
            color: #FFFFFF !important;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .flow-path {
             transition: all 0.3s ease;
             border: 2px solid #EAEAEA;
        }
        .flow-path:hover {
            transform: scale(1.03);
            border-color: #D35400;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
    </style>
</head>
<body class="w-full">
    <nav id="navbar" class="sticky top-0 z-50 bg-white/80 backdrop-blur-md shadow-sm">
        <div class="container mx-auto px-4">
            <div class="flex justify-center items-center h-16">
                <div class="flex space-x-6 md:space-x-10 text-sm md:text-base">
                    <a href="#introduction" class="nav-link border-b-2 pb-1 transition-colors duration-300">Introduction</a>
                    <a href="#birth" class="nav-link border-b-2 pb-1 transition-colors duration-300">Birth</a>
                    <a href="#adulthood" class="nav-link border-b-2 pb-1 transition-colors duration-300">Adulthood</a>
                    <a href="#demise" class="nav-link border-b-2 pb-1 transition-colors duration-300">Demise</a>
                    <a href="#remnants" class="nav-link border-b-2 pb-1 transition-colors duration-300">Remnants</a>
                </div>
            </div>
        </div>
    </nav>

    <main class="container mx-auto p-4 md:p-8">
        <section id="introduction" class="my-12 md:my-16 scroll-mt-20">
            <div class="text-center max-w-4xl mx-auto">
                <h1 class="text-4xl md:text-5xl font-bold text-gray-800">The Cosmic Tapestry</h1>
                <p class="mt-4 text-lg md:text-xl text-gray-600">An interactive exploration of stellar life cycles, evolution, and remnants. This application translates a comprehensive report into a dynamic journey, revealing how stars are born, live, and die, shaping the universe as we know it.</p>
            </div>
            <div class="mt-12 grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h3 class="font-bold text-xl mb-2 text-[#D35400]">A Delicate Balance</h3>
                    <p class="text-gray-700">A star's entire life is a constant struggle between the inward crush of gravity and the outward push of pressure from nuclear fusion. Every stage, from a glowing protostar to a mighty red giant, represents a new state of this delicate equilibrium. The star's final "death" occurs when this balance can no longer be maintained.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h3 class="font-bold text-xl mb-2 text-[#D35400]">Mass is Destiny</h3>
                    <p class="text-gray-700">The single most important factor determining a star's fate is its initial mass. Mass dictates a star's temperature, luminosity, lifespan, and the very path it will take towards its end. This interactive report will allow you to explore these profound differences.</p>
                </div>
            </div>
        </section>

        <section id="birth" class="my-12 md:my-24 scroll-mt-20">
            <div class="text-center max-w-3xl mx-auto">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-800">The Genesis of Stars</h2>
                <p class="mt-3 text-lg text-gray-600">Stellar birth begins in cold, dense molecular clouds. Here, gravity overcomes thermal pressure, causing the cloud to collapse and form a protostar. This section explores the observable pre-main sequence phase, focusing on T Tauri stars.</p>
            </div>
             <div class="mt-12 max-w-4xl mx-auto bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden">
                <div class="p-6 md:p-8">
                    <h3 class="text-2xl font-bold text-gray-800 text-center">T Tauri Stars: A Closer Look</h3>
                    <p class="text-center text-gray-600 mt-2">These young stars offer a window into our own Sun's past and the formation of planetary systems. Click the tabs below to explore their key characteristics.</p>
                    <div id="t-tauri-tabs" class="mt-6 flex flex-wrap justify-center gap-2 border-b-2 border-gray-200 pb-3">
                        <button data-content="tt-mass" class="px-4 py-2 text-sm md:text-base font-semibold rounded-md text-gray-600 bg-gray-100 hover:bg-gray-200 transition">Mass & Age</button>
                        <button data-content="tt-disk" class="px-4 py-2 text-sm md:text-base font-semibold rounded-md text-gray-600 bg-gray-100 hover:bg-gray-200 transition">Protoplanetary Disk</button>
                        <button data-content="tt-energy" class="px-4 py-2 text-sm md:text-base font-semibold rounded-md text-gray-600 bg-gray-100 hover:bg-gray-200 transition">Energy & Variability</button>
                    </div>
                    <div id="t-tauri-content" class="mt-6 text-gray-700 min-h-[120px]">
                        <!-- Content will be injected here by JS -->
                    </div>
                </div>
            </div>
        </section>

        <section id="adulthood" class="my-12 md:my-24 scroll-mt-20">
            <div class="text-center max-w-3xl mx-auto">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-800">The Main Sequence: Enduring Adulthood</h2>
                <p class="mt-3 text-lg text-gray-600">This is the longest stage of a star's life, defined by stable hydrogen fusion. A star's mass determines its properties. Select a spectral type below to see how it compares to our Sun.</p>
            </div>
            <div class="mt-12 max-w-5xl mx-auto bg-white p-6 md:p-8 rounded-lg shadow-lg border border-gray-200">
                <div id="spectral-buttons" class="flex flex-wrap justify-center gap-2 mb-8">
                    <button data-type="O" class="btn-spectral px-3 py-1.5 rounded-full font-bold text-sm bg-blue-100 text-blue-800">O</button>
                    <button data-type="B" class="btn-spectral px-3 py-1.5 rounded-full font-bold text-sm bg-blue-100 text-blue-800">B</button>
                    <button data-type="A" class="btn-spectral px-3 py-1.5 rounded-full font-bold text-sm bg-cyan-100 text-cyan-800">A</button>
                    <button data-type="F" class="btn-spectral px-3 py-1.5 rounded-full font-bold text-sm bg-green-100 text-green-800">F</button>
                    <button data-type="G" class="btn-spectral px-3 py-1.5 rounded-full font-bold text-sm bg-yellow-100 text-yellow-800">G</button>
                    <button data-type="K" class="btn-spectral px-3 py-1.5 rounded-full font-bold text-sm bg-orange-100 text-orange-800">K</button>
                    <button data-type="M" class="btn-spectral px-3 py-1.5 rounded-full font-bold text-sm bg-red-100 text-red-800">M</button>
                </div>
                <div class="chart-container">
                    <canvas id="mainSequenceChart"></canvas>
                </div>
            </div>
        </section>

        <section id="demise" class="my-12 md:my-24 scroll-mt-20">
            <div class="text-center max-w-3xl mx-auto">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-800">The Great Divergence</h2>
                <p class="mt-3 text-lg text-gray-600">When core hydrogen is exhausted, a star's journey diverges. Its path is determined by its mass. Explore the two primary evolutionary tracks that lead to a star's demise.</p>
            </div>
            <div class="mt-12 max-w-6xl mx-auto">
                <div class="flex flex-col items-center mb-8">
                    <div class="bg-white border-2 border-gray-300 rounded-lg px-6 py-3 font-bold text-xl shadow-md">Main Sequence Star</div>
                    <div class="h-10 w-0.5 bg-gray-300"></div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="flow-path bg-white p-6 rounded-lg shadow-md border-gray-200 text-center">
                        <div class="w-full flex justify-center"><div class="h-10 w-0.5 bg-gray-300"></div></div>
                        <h3 class="font-bold text-xl text-[#D35400]">Low-Mass Path (~ up to 8 M☉)</h3>
                        <p class="text-gray-600 mt-2">Stars like our Sun follow a relatively gentle path toward their end.</p>
                        <div class="mt-4 space-y-2 text-left">
                           <p>➡️ Swells into a <strong class="font-semibold">Red Giant</strong> as it burns hydrogen in a shell.</p>
                           <p>➡️ Ignites helium fusion, temporarily stabilizing.</p>
                           <p>➡️ Enters unstable <strong class="font-semibold">Asymptotic Giant Branch (AGB)</strong> phase.</p>
                           <p>➡️ Gently ejects outer layers, forming a <strong class="font-semibold">Planetary Nebula</strong>.</p>
                        </div>
                    </div>
                    <div class="flow-path bg-white p-6 rounded-lg shadow-md border-gray-200 text-center">
                         <div class="w-full flex justify-center"><div class="h-10 w-0.5 bg-gray-300"></div></div>
                        <h3 class="font-bold text-xl text-[#D35400]">High-Mass Path (> 8 M☉)</h3>
                        <p class="text-gray-600 mt-2">Massive stars live fast and die in spectacular fashion.</p>
                        <div class="mt-4 space-y-2 text-left">
                           <p>➡️ Expands into a <strong class="font-semibold">Red Supergiant</strong>.</p>
                           <p>➡️ Fuses progressively heavier elements, creating an "onion-like" core.</p>
                           <p>➡️ Fusion stops at the <strong class="font-semibold">Iron Core</strong>, as iron fusion consumes energy.</p>
                           <p>➡️ Core collapses catastrophically, triggering a <strong class="font-semibold">Core-Collapse Supernova</strong>.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="remnants" class="my-12 md:my-24 scroll-mt-20">
            <div class="text-center max-w-3xl mx-auto">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Cosmic Remnants</h2>
                <p class="mt-3 text-lg text-gray-600">The final state of a star is the dense core left behind after its outer layers have been shed. The remnant's type is determined by the core's mass, defined by fundamental physical limits.</p>
            </div>
             <div class="mt-12 max-w-5xl mx-auto bg-white p-6 md:p-8 rounded-lg shadow-lg border border-gray-200">
                <h3 class="text-2xl font-bold text-gray-800 text-center">Stellar End-States by Core Mass</h3>
                <p class="text-center text-gray-600 mt-2 mb-6">The chart below visualizes the critical mass limits that dictate a star's final form. Click on a bar to learn more about each remnant type.</p>
                <div class="chart-container" style="height: 300px;">
                    <canvas id="remnantsChart"></canvas>
                </div>
                <div id="remnant-info" class="mt-8 p-4 bg-gray-50 rounded-lg min-h-[100px] border border-gray-200">
                    <p class="text-center text-gray-500">Select a remnant type from the chart above to display details.</p>
                </div>
            </div>
        </section>
        
        <section id="recycling" class="my-12 md:my-16 text-center max-w-4xl mx-auto">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Cosmic Recycling</h2>
             <p class="mt-3 text-lg text-gray-600">A star's death is not the end. The elements forged within stars and dispersed through planetary nebulae and supernovae enrich the interstellar medium, providing the raw materials for the next generation of stars, planets, and even life itself. We are, quite literally, made of star-stuff.</p>
        </section>

    </main>
    
    <footer class="bg-gray-800 text-white mt-16">
        <div class="container mx-auto p-6 text-center text-sm">
            <p>Interactive application generated from the "Cosmic Tapestry" report.</p>
            <p>&copy; 2025 Stellar Analytics</p>
        </div>
    </footer>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // --- Data Store ---
    const tTauriData = {
        'tt-mass': {
            title: 'Mass and Age',
            text: 'T Tauri stars are young, low-mass stars, typically ranging from 0.2 to 3 times the Sun\'s mass. Their estimated age is between 100,000 and 1,000,000 years. They are still contracting under gravity, not yet stable on the main sequence. Their youth is often confirmed by the presence of Lithium, an element destroyed in more mature stars.'
        },
        'tt-disk': {
            title: 'Protoplanetary Disk',
            text: 'A defining feature is the large, rotating disk of gas and dust surrounding the star. This disk is the remnant of the original molecular cloud and is the birthplace of planets. The accretion of material from this disk onto the star is a key process during this phase.'
        },
        'tt-energy': {
            title: 'Energy and Variability',
            text: 'A T Tauri star\'s primary energy source is gravitational contraction and accretion from its disk, not yet sustained nuclear fusion. Their brightness varies irregularly due to instabilities in the disk, violent flares in the star\'s atmosphere, and shifting clouds of gas and dust that can obscure the star from view.'
        }
    };

    const spectralData = {
        O: { mass: 60, luminosity: 500000, lifespan: 1, temp: '30,000 - 60,000 K' },
        B: { mass: 10, luminosity: 10000, lifespan: 10, temp: '10,000 - 30,000 K' },
        A: { mass: 2, luminosity: 50, lifespan: 500, temp: '7,500 - 10,000 K' },
        F: { mass: 1.5, luminosity: 5, lifespan: 3000, temp: '6,000 - 7,500 K' },
        G: { mass: 1, luminosity: 1, lifespan: 10000, temp: '5,000 - 6,000 K' },
        K: { mass: 0.7, luminosity: 0.3, lifespan: 40000, temp: '3,500 - 5,000 K' },
        M: { mass: 0.2, luminosity: 0.01, lifespan: 200000, temp: '2,000 - 3,500 K' }
    };

    const remnantData = {
        'White Dwarf': {
            description: 'The dense core of a low-mass star, supported by electron degeneracy pressure. It no longer undergoes fusion and simply cools over trillions of years. A white dwarf cannot exceed the Chandrasekhar Limit (~1.4 M☉).',
            progenitor: 'Low-mass (< 8 M☉)',
            coreLimit: '≤ 1.4 M☉'
        },
        'Neutron Star': {
            description: 'The incredibly dense remnant of a high-mass star\'s supernova, supported by neutron degeneracy pressure. They can spin rapidly, creating pulsars. A neutron star\'s mass cannot exceed the TOV Limit (~2.2-2.9 M☉).',
            progenitor: 'High-mass (> 8 M☉)',
            coreLimit: '1.4 - 2.9 M☉'
        },
        'Black Hole': {
            description: 'Forms when a stellar remnant\'s core is too massive to be supported by any known force, collapsing indefinitely. Its gravity is so strong that not even light can escape its event horizon.',
            progenitor: 'Very High-mass',
            coreLimit: '> 2.9 M☉'
        }
    };

    // --- Chart.js Global Config ---
    Chart.defaults.font.family = "'Source Sans Pro', sans-serif";
    Chart.defaults.color = '#4A4A4A';
    
    // --- Navbar Scroll Logic ---
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll('.nav-link');

    window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            if (pageYOffset >= sectionTop - 80) {
                current = section.getAttribute('id');
            }
        });

        navLinks.forEach(link => {
            link.classList.remove('nav-active');
            link.classList.add('nav-inactive');
            if (link.getAttribute('href').includes(current)) {
                link.classList.add('nav-active');
                link.classList.remove('nav-inactive');
            }
        });
    });

    // --- T Tauri Tabs Interaction ---
    const tTauriTabsContainer = document.getElementById('t-tauri-tabs');
    const tTauriContentContainer = document.getElementById('t-tauri-content');
    
    function updateTTauriContent(contentKey) {
        const data = tTauriData[contentKey];
        tTauriContentContainer.innerHTML = `<h4 class="font-bold text-lg text-[#D35400]">${data.title}</h4><p class="mt-2">${data.text}</p>`;
        
        tTauriTabsContainer.querySelectorAll('button').forEach(btn => {
            if(btn.dataset.content === contentKey) {
                btn.classList.add('bg-gray-200');
                btn.classList.remove('bg-gray-100');
            } else {
                btn.classList.remove('bg-gray-200');
                btn.classList.add('bg-gray-100');
            }
        });
    }

    tTauriTabsContainer.addEventListener('click', (e) => {
        if (e.target.tagName === 'BUTTON') {
            const contentKey = e.target.dataset.content;
            updateTTauriContent(contentKey);
        }
    });
    updateTTauriContent('tt-mass'); // Initial state
    tTauriTabsContainer.querySelector('button[data-content="tt-mass"]').classList.add('bg-gray-200');


    // --- Main Sequence Chart ---
    const mainSequenceCtx = document.getElementById('mainSequenceChart').getContext('2d');
    let mainSequenceChart;

    function createMainSequenceChart(spectralType) {
        const data = spectralData[spectralType];
        const chartData = {
            labels: ['Mass (vs Sun)', 'Luminosity (vs Sun)', 'Lifespan (Myr)'],
            datasets: [{
                label: `Type ${spectralType} Star Properties`,
                data: [data.mass, data.luminosity, data.lifespan],
                backgroundColor: ['#3498db', '#f1c40f', '#e74c3c'],
                borderColor: ['#2980b9', '#f39c12', '#c0392b'],
                borderWidth: 1
            }]
        };

        if (mainSequenceChart) {
            mainSequenceChart.data = chartData;
            mainSequenceChart.options.scales.y.type = 'logarithmic';
            mainSequenceChart.update();
        } else {
            mainSequenceChart = new Chart(mainSequenceCtx, {
                type: 'bar',
                data: chartData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            type: 'logarithmic',
                            beginAtZero: false,
                            ticks: {
                                color: '#7f8c8d'
                            },
                            grid: {
                                color: '#ecf0f1'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#34495e',
                                font: {
                                    weight: '600'
                                }
                            },
                            grid: {
                                display: false
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: 'Stellar Properties on a Logarithmic Scale',
                            color: '#34495e',
                            font: { size: 16 }
                        },
                        tooltip: {
                           callbacks: {
                                title: function(tooltipItems) {
                                    const item = tooltipItems[0];
                                    let label = item.chart.data.labels[item.dataIndex];
                                    return Array.isArray(label) ? label.join(' ') : label;
                                }
                           }
                        }
                    }
                }
            });
        }
    }

    document.getElementById('spectral-buttons').addEventListener('click', e => {
        if (e.target.tagName === 'BUTTON') {
            const type = e.target.dataset.type;
            document.querySelectorAll('.btn-spectral').forEach(btn => btn.classList.remove('btn-spectral-active'));
            e.target.classList.add('btn-spectral-active');
            createMainSequenceChart(type);
        }
    });

    // Initial chart
    document.querySelector('.btn-spectral[data-type="G"]').classList.add('btn-spectral-active');
    createMainSequenceChart('G');


    // --- Stellar Remnants Chart ---
    const remnantsCtx = document.getElementById('remnantsChart').getContext('2d');
    const remnantInfoDiv = document.getElementById('remnant-info');
    const remnantsChart = new Chart(remnantsCtx, {
        type: 'bar',
        data: {
            labels: Object.keys(remnantData),
            datasets: [{
                label: 'Max Core Mass (M☉)',
                data: [1.4, 2.9, 20],
                backgroundColor: ['#bdc3c7', '#34495e', '#000000'],
            }]
        },
        options: {
            indexAxis: 'y',
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                x: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Core Mass (Solar Masses - M☉)'
                    },
                    grid: {
                        color: '#ecf0f1'
                    }
                },
                y: {
                    grid: {
                        display: false
                    }
                }
            },
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                   callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            return Array.isArray(label) ? label.join(' ') : label;
                        }
                   }
                }
            },
            onClick: (event, elements) => {
                if (elements.length > 0) {
                    const index = elements[0].index;
                    const remnantType = remnantsChart.data.labels[index];
                    const data = remnantData[remnantType];
                    remnantInfoDiv.innerHTML = `
                        <h4 class="font-bold text-lg text-[#D35400]">${remnantType}</h4>
                        <p class="mt-2 text-gray-700">${data.description}</p>
                        <div class="mt-3 text-sm flex justify-around">
                            <span><strong>Progenitor:</strong> ${data.progenitor}</span>
                            <span><strong>Core Limit:</strong> ${data.coreLimit}</span>
                        </div>
                    `;
                }
            }
        }
    });
});
</script>
</body>
</html>
